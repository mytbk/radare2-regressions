NAME=binsym demangling
FILE=../bins/mach0/hellocxx-osx-i386
EXPECT64=MHgwMDAwMjA1NCAwIF9OWEFyZ2MKMHgwMDAwMjA1OCAwIF9OWEFyZ3YKMHgwMDAwMWQ5YSAwIHVuc2lnbmVkbG9uZ2NvbnN0JnN0ZDo6bWluPHVuc2lnbmVkbG9uZz4odW5zaWduZWRsb25nY29uc3QmLHVuc2lnbmVkbG9uZ2NvbnN0JikKMHgwMDAwMjA2MCAwIF9fX3Byb2duYW1lCjB4MDAwMDEwMDAgMCBfX21oX2V4ZWN1dGVfaGVhZGVyCjB4MDAwMDIwNWMgMCBfZW52aXJvbgoweDAwMDAxZDUyIDAgX21haW4KMHgwMDAwMWMxMCAwIHN0YXJ0CjB4MDAwMDFiYTAgMCBfX3N0YXRpY19pbml0aWFsaXphdGlvbl9hbmRfZGVzdHJ1Y3Rpb25fMChpbnQsaW50KQoweDAwMDAxYmYyIDAgZ2xvYmFsY29uc3RydWN0b3Jza2V5ZWR0b21haW4KMHgwMDAwMWM0ZSAwIHN0ZDo6X192ZXJpZnlfZ3JvdXBpbmcoY2hhcmNvbnN0Kix1bnNpZ25lZGxvbmcsc3RkOjpzdHJpbmdjb25zdCYpCjB4MDAwMDFkYzEgMCBfX190Y2ZfMAoweDAwMDAxZTI0IDAgIHN0dWIgaGVscGVycwoweDAwMDAyMDAwIDAgX3B2YXJzCjB4MDAwMDIwNjQgMCBzdGQ6Ol9faW9pbml0CjB4MDAwMDFkZWUgMCBzdGQ6OnN0cmluZzo6c2l6ZSgpY29uc3QKMHgwMDAwMWRmNCAwIHN0ZDo6c3RyaW5nOjpvcGVyYXRvcltdKHVuc2lnbmVkbG9uZyljb25zdAoweDAwMDAxZGZhIDAgc3RkOjpvc3RyZWFtOjpvcGVyYXRvcjw8KHN0ZDo6b3N0cmVhbSYoKikoc3RkOjpvc3RyZWFtJikpCjB4MDAwMDFlMDAgMCBzdGQ6Omlvc19iYXNlOjpJbml0OjpJbml0KCkKMHgwMDAwMWUwNiAwIHN0ZDo6aW9zX2Jhc2U6OkluaXQ6On5Jbml0KCkKMHgwMDAwMWUxMiAwIHN0ZDo6YmFzaWNfb3N0cmVhbTxjaGFyLHN0ZDo6Y2hhcl90cmFpdHM8Y2hhcj4+JnN0ZDo6b3BlcmF0b3I8PDxzdGQ6OmNoYXJfdHJhaXRzPGNoYXI+PihzdGQ6OmJhc2ljX29zdHJlYW08Y2hhcixzdGQ6OmNoYXJfdHJhaXRzPGNoYXI+PiYsY2hhcmNvbnN0KikKMHgwMDAwMWUxOCAwIGltcC5fX2N4YV9hdGV4aXQKMHgwMDAwMWUxZSAwIGltcC5leGl0Cgo=
CMDS64=IXJhYmluMiAtcXNEIGN4eCBhbGwgLi4vYmlucy9tYWNoMC9oZWxsb2N4eC1vc3gtaTM4Ngo=
RUN
NAME=binsym without demangling
FILE=../bins/mach0/hellocxx-osx-i386
ARGS=-M
EXPECT64=MHgwMDAwMjA1NCAwIF9OWEFyZ2MKMHgwMDAwMjA1OCAwIF9OWEFyZ3YKMHgwMDAwMWQ5YSAwIF9fWlN0M21pbkltRVJLVF9TMl9TMl8KMHgwMDAwMjA2MCAwIF9fX3Byb2duYW1lCjB4MDAwMDEwMDAgMCBfX21oX2V4ZWN1dGVfaGVhZGVyCjB4MDAwMDIwNWMgMCBfZW52aXJvbgoweDAwMDAxZDUyIDAgX21haW4KMHgwMDAwMWMxMCAwIHN0YXJ0CjB4MDAwMDFiYTAgMCBfX1o0MV9fc3RhdGljX2luaXRpYWxpemF0aW9uX2FuZF9kZXN0cnVjdGlvbl8waWkKMHgwMDAwMWJmMiAwIF9fR0xPQkFMX19JX21haW4KMHgwMDAwMWM0ZSAwIF9fWlN0TDE3X192ZXJpZnlfZ3JvdXBpbmdQS2NtUktTcwoweDAwMDAxZGMxIDAgX19fdGNmXzAKMHgwMDAwMWUyNCAwICBzdHViIGhlbHBlcnMKMHgwMDAwMjAwMCAwIF9wdmFycwoweDAwMDAyMDY0IDAgX19aU3RMOF9faW9pbml0CjB4MDAwMDFkZWUgMCBpbXAuX1pOS1NzNHNpemVFdgoweDAwMDAxZGY0IDAgaW1wLl9aTktTc2l4RW0KMHgwMDAwMWRmYSAwIGltcC5fWk5Tb2xzRVBGUlNvU19FCjB4MDAwMDFlMDAgMCBpbXAuX1pOU3Q4aW9zX2Jhc2U0SW5pdEMxRXYKMHgwMDAwMWUwNiAwIGltcC5fWk5TdDhpb3NfYmFzZTRJbml0RDFFdgoweDAwMDAxZTEyIDAgaW1wLl9aU3Rsc0lTdDExY2hhcl90cmFpdHNJY0VFUlN0MTNiYXNpY19vc3RyZWFtSWNUX0VTNV9QS2MKMHgwMDAwMWUxOCAwIGltcC5fX2N4YV9hdGV4aXQKMHgwMDAwMWUxZSAwIGltcC5leGl0Cgo=
CMDS64=aXNxCg==
RUN
NAME=bin.demangle=true and symbol
FILE=../bins/elf/analysis/hello-linux-i386nold
ARGS=-e bin.demangle=true
EXPECT64=Y2FsbCBzeW0uaW1wLnB1dHMKCg==
CMDS64=cGkgMSBAIDB4MDgwNDgyMzAK
RUN
NAME=MSVC import symbol demangling
FILE=../bins/pe/libzmq-v100-mt-4_0_4.dll
CMDS=f~0x1004e0f4[2]
EXPECT=sym.public:_void___thiscall_std::basic_ostream_char__struct_std::char_traits_char__::_Osfx_void
RUN
